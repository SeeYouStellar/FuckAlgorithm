### 剑指offer36  [二叉搜索树与双向链表](https://leetcode.cn/problems/er-cha-sou-suo-shu-yu-shuang-xiang-lian-biao-lcof/)

> 首先二叉搜索树（$BST$）的最重要的一个特征就是中序遍历是升序的，并且题目要求的双向链表也是需要升序排列，那么就很容易将这两点结合起来。

**思路：** 按中序遍历遍历整棵树，每个节点**$cur$**都设置一个前驱节点$ pre $(中序遍历顺序上上一个遍历到的节点)。理论上每个节点与其前驱节点之间相互连接，即可构建出双向链表。但注意前驱节点不是通过递归参数的形式进行更新，而是通过外部记录，手动更新。另外，题目要求返回双向链表首节点，那么中序遍历到的第一个节点即为$head$。

**举个栗子：**下图中的中序遍历顺序是1->2->3->4->5，所以到达1节点时，$cur$为1节点，而在此之前$pre$一直未更新，为$NULL$，记录$head$为1节点，遍历1节点后将$pre$更新为$cur$，也就是1节点。当遍历到2节点时，$pre$为1，$cur$为2，此时再将两者相互连接。注意遍历到3时，$pre$为2，$cur$为3；遍历到4时，$pre$为3，$cur$为4，那么就自动解决了左子树的最大值节点与根节点相互连接。最后遍历完5后，$pre$为5，将其与先前记录的headxiang'hu

![img](https://assets.leetcode.com/uploads/2018/10/12/bstdlloriginalbst.png)

